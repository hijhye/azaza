<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>ÏïÑÏûêÏïÑÏûê! ÎåÄÏãúÎ≥¥Îìú</title>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
        <style>
            :root {
                --bg-grad: linear-gradient(180deg, #a1c4fd 0%, #2193b0 100%);
                --card-bg: rgba(255, 255, 255, 0.95);
                --primary: #4a90e2;
                --accent: #ff6b6b;
                --text: #333;
            }
            body {
                font-family: 'Pretendard', -apple-system, sans-serif;
                background: var(--bg-grad);
                background-attachment: fixed;
                min-height: 100vh;
                margin: 0;
                padding: 20px;
                display: flex;
                justify-content: center;
                color: var(--text);
            }
            .container {
                width: 100%;
                max-width: 500px;
                position: relative;
            }
            .header {
                text-align: center;
                margin-bottom: 25px;
                color: white;
                text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            }
            .d-day {
                font-size: 3.5rem;
                font-weight: 900;
                margin: 0;
            }
            .tab-menu {
                display: flex;
                gap: 10px;
                margin-top: 20px;
                justify-content: center;
            }
            .tab-btn {
                background: rgba(255, 255, 255, 0.2);
                border: 1px solid white;
                color: white;
                padding: 10px 20px;
                border-radius: 25px;
                cursor: pointer;
                transition: 0.3s;
            }
            .tab-btn.active {
                background: white;
                color: var(--primary);
                font-weight: bold;
            }
            .view-section {
                display: none;
            }
            .view-section.active {
                display: block;
            }
            .card {
                background: var(--card-bg);
                border-radius: 24px;
                padding: 30px;
                box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
                backdrop-filter: blur(10px);
                margin-top: 15px;
            }
            .section {
                margin-bottom: 25px;
                border-left: 5px solid var(--primary);
                padding-left: 18px;
            }
            .section:last-child {
                margin-bottom: 0;
            }
            .section-title {
                font-size: 0.9rem;
                color: #777;
                font-weight: bold;
                margin-bottom: 6px;
            }
            .content {
                font-size: 1.15rem;
                font-weight: 600;
                line-height: 1.5;
                word-break: keep-all;
            }
            .tag {
                display: inline-block;
                background: #e1edff;
                color: #4a90e2;
                padding: 3px 10px;
                border-radius: 6px;
                font-size: 0.85rem;
                margin-bottom: 8px;
                font-weight: bold;
            }
            .list-item {
                display: flex;
                align-items: center;
                padding: 15px;
                border-bottom: 1px solid #eee;
                cursor: pointer;
                transition: background 0.2s;
                border-radius: 12px;
            }
            .list-item:hover {
                background: rgba(74, 144, 226, 0.08);
            }
            .list-date {
                width: 65px;
                font-weight: bold;
                color: var(--primary);
                font-size: 0.95rem;
            }
            .list-info {
                flex: 1;
            }
            .list-title {
                font-size: 1rem;
                font-weight: 600;
                margin-bottom: 3px;
            }
            .list-sub {
                font-size: 0.8rem;
                color: #888;
            }
            #modal {
                display: none;
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.7);
                z-index: 1000;
                justify-content: center;
                align-items: center;
            }
            .modal-content {
                background: white;
                padding: 30px;
                border-radius: 24px;
                width: 90%;
                max-width: 400px;
                box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            }
            input,
            textarea {
                width: 100%;
                padding: 12px;
                margin-bottom: 12px;
                border: 1px solid #ddd;
                border-radius: 10px;
                box-sizing: border-box;
                font-family: inherit;
            }
            .btn-save {
                width: 100%;
                background: var(--primary);
                color: white;
                border: none;
                padding: 15px;
                border-radius: 12px;
                cursor: pointer;
                font-size: 1.1rem;
                font-weight: bold;
            }
            .add-floating {
                position: fixed;
                bottom: 30px;
                right: 30px;
                background: var(--accent);
                color: white;
                width: 60px;
                height: 60px;
                border-radius: 50%;
                border: none;
                font-size: 30px;
                cursor: pointer;
                box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div class="header">
                <div class="d-day" id="d-day-display">D-26</div>
                <div
                    id="today-date-text"
                    style="font-size: 1.2rem; font-weight: 500"
                >
                    2026ÎÖÑ 01Ïõî 13Ïùº
                </div>

                <div class="tab-menu">
                    <button
                        class="tab-btn active"
                        onclick="switchView('today')"
                    >
                        Ïò§Îäò Ìï† Ïùº
                    </button>
                    <button class="tab-btn" onclick="switchView('all')">
                        Ï†ÑÏ≤¥ ÏùºÏ†ï
                    </button>
                </div>
            </div>

            <div id="view-today" class="view-section active">
                <div id="today-card" class="card"></div>
            </div>

            <div id="view-all" class="view-section">
                <div
                    class="card"
                    id="full-list-container"
                    style="max-height: 65vh; overflow-y: auto; padding: 10px"
                ></div>
            </div>
        </div>

        <button class="add-floating" onclick="openModal()">+</button>

        <div id="modal">
            <div class="modal-content">
                <h3 style="margin-top: 0">ÏùºÏ†ï Ìé∏Ïßë</h3>
                <input type="text" id="in-date" placeholder="ÎÇ†Ïßú (MM-DD)" />
                <input
                    type="text"
                    id="in-general"
                    placeholder="ÏùºÎ∞ò ÏùºÏ†ï (ÏàòÏòÅ, ÏïåÎ∞î Îì±)"
                />
                <input
                    type="text"
                    id="in-exam-cat"
                    placeholder="Ï†ïÏ≤òÍ∏∞Ï§ÄÎπÑ Î∂ÑÎ•ò(ÌïµÏã¨ÏöîÏïΩ/Í∏∞Ï∂úÎ¨∏Ï†ú/Î≥µÏäµ)"
                />
                <textarea
                    id="in-exam-note"
                    placeholder="Í≥µÎ∂Ä ÏÉÅÏÑ∏ ÎÇ¥Ïö©"
                    rows="2"
                ></textarea>
                <input
                    type="text"
                    id="in-job-note"
                    placeholder="Ï∑®ÏóÖ Ï§ÄÎπÑ ÎÇ¥Ïö©"
                />
                <input type="text" id="in-side" placeholder="Î∂ÄÏàòÏûÖ/Í∏∞ÌÉÄ" />
                <button class="btn-save" onclick="saveData()">Ï†ÄÏû•ÌïòÍ∏∞</button>
                <button
                    onclick="closeModal()"
                    style="
                        width: 100%;
                        background: none;
                        border: none;
                        margin-top: 15px;
                        color: #aaa;
                        cursor: pointer;
                    "
                >
                    Îã´Í∏∞
                </button>
            </div>
        </div>

        <script>
            // 1. Î™®Îì† Îç∞Ïù¥ÌÑ∞ ÏûÖÎ†• (Ï§ëÎûµ ÏóÜÏùå)
            const rawData = [
                {
                    date: '01-13',
                    general: '',
                    exam: { cat: 'ÌïµÏã¨ÏöîÏïΩ', note: '1ÌöåÎèÖ' },
                    job: { cat: 'Ìè¨Ìä∏Ìè¥Î¶¨Ïò§', note: 'ÌåÄÌîå ÏôÑÏÑ±ÌïòÍ∏∞' },
                    side: 'ÏÉÅÏÑ∏ÌéòÏù¥ÏßÄ ÎßåÎì§Í∏∞',
                },
                {
                    date: '01-14',
                    general: 'ÏàòÏòÅ',
                    exam: { cat: 'ÌïµÏã¨ÏöîÏïΩ', note: '2ÌöåÎèÖ' },
                    job: {
                        cat: 'Ìè¨Ìä∏Ìè¥Î¶¨Ïò§',
                        note: 'ÏûêÎ∞îÏä§ÌÅ¨Î¶ΩÌä∏ ÌîÑÎ°úÏ†ùÌä∏ Î∞òÏùëÌòï ÏôÑÏÑ±ÌïòÍ∏∞',
                    },
                    side: 'ÏÉÅÏÑ∏ÌéòÏù¥ÏßÄ ÎßåÎì§Í∏∞',
                },
                {
                    date: '01-15',
                    general: '',
                    exam: {
                        cat: 'ÌïµÏã¨ÏöîÏïΩ',
                        note: '3ÌöåÎèÖ + ÎÇ¥Ïö© ÎÇ¥Í∞Ä ÏïåÏïÑÎ≥¥Í∏∞ ÏâΩÍ≤å Ï†ïÎ¶¨',
                    },
                    job: {
                        cat: 'Ìè¨Ìä∏Ìè¥Î¶¨Ïò§',
                        note: 'ÏûêÎ∞îÏä§ÌÅ¨Î¶ΩÌä∏ ÌîÑÎ°úÏ†ùÌä∏ Î∞òÏùëÌòï ÏôÑÏÑ±ÌïòÍ∏∞',
                    },
                    side: 'ÏÉÅÏÑ∏ÌéòÏù¥ÏßÄ ÎßåÎì§Í∏∞',
                },
                {
                    date: '01-16',
                    general: 'ÏàòÏòÅ, Íµ≠Ï∑®ÏÉÅÎã¥',
                    exam: {
                        cat: 'ÌïµÏã¨ÏöîÏïΩ',
                        note: '3ÌöåÎèÖ + ÎÇ¥Ïö© ÎÇ¥Í∞Ä ÏïåÏïÑÎ≥¥Í∏∞ ÏâΩÍ≤å Ï†ïÎ¶¨',
                    },
                    job: { cat: 'ÏûêÏÜåÏÑú', note: '1Ï∞® ÏûëÏÑ±' },
                    side: 'ÏÉÅÏÑ∏ÌéòÏù¥ÏßÄ ÎßåÎì§Í∏∞',
                },
                {
                    date: '01-17',
                    general: 'ÏïåÎ∞î',
                    exam: {
                        cat: 'ÌïµÏã¨ÏöîÏïΩ',
                        note: '3ÌöåÎèÖ + ÎÇ¥Ïö© ÎÇ¥Í∞Ä ÏïåÏïÑÎ≥¥Í∏∞ ÏâΩÍ≤å Ï†ïÎ¶¨',
                    },
                    job: { cat: 'Ï†êÍ≤Ä', note: 'Ï†êÍ≤ÄÌïòÍ∏∞' },
                    side: '',
                },
                {
                    date: '01-18',
                    general: 'ÏïåÎ∞î, ÍµêÌöå',
                    exam: { cat: 'Î≥µÏäµ', note: 'ÌïµÏã¨ÏöîÏïΩ ÎÖ∏Ìä∏' },
                    job: { cat: 'Ï†êÍ≤Ä', note: 'Ï†êÍ≤ÄÌïòÍ∏∞' },
                    side: '',
                },
                {
                    date: '01-19',
                    general: 'ÏàòÏòÅ',
                    exam: { cat: 'Í∏∞Ï∂úÎ¨∏Ï†ú', note: '1Ìöå Î¨∏Ï†úÌíÄÏù¥ + Ïò§ÎãµÎÖ∏Ìä∏' },
                    job: {
                        cat: 'Ìè¨Ìä∏Ìè¥Î¶¨Ïò§',
                        note: 'Ìè¨Ìä∏Ìè¥Î¶¨Ïò§ ÏÇ¨Ïù¥Ìä∏ ÏôÑÏÑ±ÌïòÍ∏∞',
                    },
                    side: '',
                },
                {
                    date: '01-20',
                    general: '',
                    exam: { cat: 'Í∏∞Ï∂úÎ¨∏Ï†ú', note: '2Ìöå Î¨∏Ï†úÌíÄÏù¥ + Ïò§ÎãµÎÖ∏Ìä∏' },
                    job: {
                        cat: 'Ìè¨Ìä∏Ìè¥Î¶¨Ïò§',
                        note: 'Ìè¨Ìä∏Ìè¥Î¶¨Ïò§ ÏÇ¨Ïù¥Ìä∏ ÏôÑÏÑ±ÌïòÍ∏∞',
                    },
                    side: '',
                },
                {
                    date: '01-21',
                    general: 'ÏàòÏòÅ',
                    exam: { cat: 'Í∏∞Ï∂úÎ¨∏Ï†ú', note: '3Ìöå Î¨∏Ï†úÌíÄÏù¥ + Ïò§ÎãµÎÖ∏Ìä∏' },
                    job: {
                        cat: 'Ìè¨Ìä∏Ìè¥Î¶¨Ïò§',
                        note: 'Ìè¨Ìä∏Ìè¥Î¶¨Ïò§ ÌîÑÎ°úÏ†ùÌä∏Îì§ Í∏∞ÌöçÏÑú ÏûëÏÑ±ÌïòÍ∏∞',
                    },
                    side: '',
                },
                {
                    date: '01-22',
                    general: '',
                    exam: { cat: 'Í∏∞Ï∂úÎ¨∏Ï†ú', note: '4Ìöå Î¨∏Ï†úÌíÄÏù¥ + Ïò§ÎãµÎÖ∏Ìä∏' },
                    job: {
                        cat: 'Ìè¨Ìä∏Ìè¥Î¶¨Ïò§',
                        note: 'Î¶¨Ïï°Ìä∏ ÏÇ¨Ïù¥Ìä∏ Ï†úÎåÄÎ°ú Îã§Ïãú ÍπîÎÅîÌïòÍ≤å Ï†ïÎ¶¨ÌïòÍ∏∞',
                    },
                    side: '',
                },
                {
                    date: '01-23',
                    general: 'ÏàòÏòÅ',
                    exam: { cat: 'Í∏∞Ï∂úÎ¨∏Ï†ú', note: '5Ìöå Î¨∏Ï†úÌíÄÏù¥ + Ïò§ÎãµÎÖ∏Ìä∏' },
                    job: {
                        cat: 'Ìè¨Ìä∏Ìè¥Î¶¨Ïò§',
                        note: 'Î¶¨Ïï°Ìä∏ ÏÇ¨Ïù¥Ìä∏ Ï†úÎåÄÎ°ú Îã§Ïãú ÍπîÎÅîÌïòÍ≤å Ï†ïÎ¶¨ÌïòÍ∏∞',
                    },
                    side: '',
                },
                {
                    date: '01-24',
                    general: 'ÏïåÎ∞î',
                    exam: { cat: 'Í∏∞Ï∂úÎ¨∏Ï†ú', note: '6Ìöå Î¨∏Ï†úÌíÄÏù¥ + Ïò§ÎãµÎÖ∏Ìä∏' },
                    job: { cat: 'ÏûêÏÜåÏÑú', note: '2Ï∞® ÏàòÏ†ï' },
                    side: '',
                },
                {
                    date: '01-25',
                    general: 'ÏïåÎ∞î, ÍµêÌöå',
                    exam: { cat: 'Î≥µÏäµ', note: 'ÌïµÏã¨ÏöîÏïΩ ÎÖ∏Ìä∏ + Ïò§ÎãµÎÖ∏Ìä∏' },
                    job: { cat: 'Ï†êÍ≤Ä', note: 'Ï†êÍ≤ÄÌïòÍ∏∞' },
                    side: '',
                },
                {
                    date: '01-26',
                    general: 'ÏàòÏòÅ',
                    exam: { cat: 'Í∏∞Ï∂úÎ¨∏Ï†ú', note: '7Ìöå Î¨∏Ï†úÌíÄÏù¥ + Ïò§ÎãµÎÖ∏Ìä∏' },
                    job: { cat: 'ÏûÖÏÇ¨ÏßÄÏõê', note: 'ÏûÖÏÇ¨ÏßÄÏõêÌïòÍ∏∞..ÎçúÎçú' },
                    side: '',
                },
                {
                    date: '01-27',
                    general: '',
                    exam: { cat: 'Í∏∞Ï∂úÎ¨∏Ï†ú', note: '8Ìöå Î¨∏Ï†úÌíÄÏù¥ + Ïò§ÎãµÎÖ∏Ìä∏' },
                    job: { cat: '-', note: '-' },
                    side: '',
                },
                {
                    date: '01-28',
                    general: 'ÏàòÏòÅ',
                    exam: { cat: 'Í∏∞Ï∂úÎ¨∏Ï†ú', note: '9Ìöå Î¨∏Ï†úÌíÄÏù¥ + Ïò§ÎãµÎÖ∏Ìä∏' },
                    job: { cat: '-', note: '-' },
                    side: '',
                },
                {
                    date: '01-29',
                    general: '',
                    exam: { cat: 'Í∏∞Ï∂úÎ¨∏Ï†ú', note: '10Ìöå Î¨∏Ï†úÌíÄÏù¥ + Ïò§ÎãµÎÖ∏Ìä∏' },
                    job: { cat: '-', note: '-' },
                    side: '',
                },
                {
                    date: '01-30',
                    general: 'ÏàòÏòÅ',
                    exam: { cat: 'Í∏∞Ï∂úÎ¨∏Ï†ú', note: '11Ìöå Î¨∏Ï†úÌíÄÏù¥ + Ïò§ÎãµÎÖ∏Ìä∏' },
                    job: { cat: '-', note: '-' },
                    side: '',
                },
                {
                    date: '01-31',
                    general: 'ÏïåÎ∞î',
                    exam: { cat: 'Í∏∞Ï∂úÎ¨∏Ï†ú', note: '12Ìöå Î¨∏Ï†úÌíÄÏù¥ + Ïò§ÎãµÎÖ∏Ìä∏' },
                    job: { cat: '-', note: '-' },
                    side: '',
                },
                {
                    date: '02-01',
                    general: 'ÍµêÌöå',
                    exam: { cat: 'Î≥µÏäµ', note: 'ÌïµÏã¨ÏöîÏïΩ ÎÖ∏Ìä∏ + Ïò§ÎãµÎÖ∏Ìä∏' },
                    job: { cat: '-', note: '-' },
                    side: '',
                },
                {
                    date: '02-02',
                    general: '',
                    exam: { cat: 'Í∏∞Ï∂úÎ¨∏Ï†ú', note: '13Ìöå Î¨∏Ï†úÌíÄÏù¥ + Ïò§ÎãµÎÖ∏Ìä∏' },
                    job: { cat: '-', note: '-' },
                    side: '',
                },
                {
                    date: '02-03',
                    general: '',
                    exam: { cat: 'Í∏∞Ï∂úÎ¨∏Ï†ú', note: '14Ìöå Î¨∏Ï†úÌíÄÏù¥ + Ïò§ÎãµÎÖ∏Ìä∏' },
                    job: { cat: '-', note: '-' },
                    side: '',
                },
                {
                    date: '02-04',
                    general: '',
                    exam: { cat: 'Í∏∞Ï∂úÎ¨∏Ï†ú', note: '15Ìöå Î¨∏Ï†úÌíÄÏù¥ + Ïò§ÎãµÎÖ∏Ìä∏' },
                    job: { cat: '-', note: '-' },
                    side: '',
                },
                {
                    date: '02-05',
                    general: '',
                    exam: { cat: 'Î≥µÏäµ', note: 'ÌïµÏã¨ÏöîÏïΩ ÎÖ∏Ìä∏ + Ïò§ÎãµÎÖ∏Ìä∏' },
                    job: { cat: '-', note: '-' },
                    side: '',
                },
                {
                    date: '02-06',
                    general: '',
                    exam: { cat: 'Î≥µÏäµ', note: 'ÌïµÏã¨ÏöîÏïΩ ÎÖ∏Ìä∏ + Ïò§ÎãµÎÖ∏Ìä∏' },
                    job: { cat: '-', note: '-' },
                    side: '',
                },
                {
                    date: '02-07',
                    general: '',
                    exam: { cat: 'Î≥µÏäµ', note: 'ÌïµÏã¨ÏöîÏïΩ ÎÖ∏Ìä∏ + Ïò§ÎãµÎÖ∏Ìä∏' },
                    job: { cat: '-', note: '-' },
                    side: '',
                },
                {
                    date: '02-08',
                    general: '',
                    exam: { cat: 'ÏãúÌóòÎãπÏùº!!', note: 'Ìï©Í≤©ÌïòÍ∏∞!! ÎëêÎë•' },
                    job: { cat: '-', note: 'Í≥†ÏÉùÌïòÏÖ®ÏäµÎãàÎã§!' },
                    side: '',
                },
            ];

            let schedules =
                JSON.parse(localStorage.getItem('mySchedules')) || rawData;
            const examDate = new Date('2026-02-08');

            function switchView(view) {
                document
                    .querySelectorAll('.view-section')
                    .forEach((el) => el.classList.remove('active'));
                document
                    .querySelectorAll('.tab-btn')
                    .forEach((el) => el.classList.remove('active'));
                if (view === 'today') {
                    document
                        .getElementById('view-today')
                        .classList.add('active');
                    document
                        .querySelector('button[onclick*="today"]')
                        .classList.add('active');
                    renderToday();
                } else {
                    document.getElementById('view-all').classList.add('active');
                    document
                        .querySelector('button[onclick*="all"]')
                        .classList.add('active');
                    renderAll();
                }
            }

            function renderToday() {
                const now = new Date();
                const todayStr = `${String(now.getMonth() + 1).padStart(
                    2,
                    '0'
                )}-${String(now.getDate()).padStart(2, '0')}`;
                const data = schedules.find((s) => s.date === todayStr);
                const container = document.getElementById('today-card');

                const diff =
                    examDate -
                    new Date(now.getFullYear(), now.getMonth(), now.getDate());
                const dDay = Math.ceil(diff / (1000 * 60 * 60 * 24));
                document.getElementById('d-day-display').innerText =
                    dDay === 0
                        ? 'D-Day'
                        : dDay < 0
                        ? `D+${Math.abs(dDay)}`
                        : `D-${dDay}`;
                document.getElementById(
                    'today-date-text'
                ).innerText = `${now.getFullYear()}ÎÖÑ ${
                    todayStr.split('-')[0]
                }Ïõî ${todayStr.split('-')[1]}Ïùº`;

                if (!data) {
                    container.innerHTML = `<div style="text-align:center; padding:40px; color:#888;">Ïò§Îäò ÏòàÏ†ïÎêú Í≥ÑÌöçÏù¥ ÏóÜÏäµÎãàÎã§.</div>`;
                    return;
                }

                container.innerHTML = `
        <div class="section"><div class="section-title">üèÉ ÏùºÎ∞ò ÏùºÏ†ï</div><div class="content">${
            data.general || 'ÏóÜÏùå'
        }</div></div>
        <div class="section"><div class="section-title">üìö Ï†ïÏ≤òÍ∏∞ Ï§ÄÎπÑ</div><div class="tag">${
            data.exam.cat
        }</div><div class="content">${data.exam.note}</div></div>
        <div class="section"><div class="section-title">üíº Ï∑®ÏóÖ ÏÑúÎ•ò</div><div class="tag">${
            data.job.cat
        }</div><div class="content">${data.job.note}</div></div>
        ${
            data.side
                ? `<div class="section"><div class="section-title">üí∞ Î∂ÄÏàòÏûÖ ÏûëÏóÖ</div><div class="content">${data.side}</div></div>`
                : ''
        }
    `;
                gsap.from('.section', {
                    opacity: 0,
                    x: -20,
                    stagger: 0.1,
                    duration: 0.5,
                });
            }

            function renderAll() {
                const container = document.getElementById(
                    'full-list-container'
                );
                schedules.sort((a, b) => a.date.localeCompare(b.date));
                container.innerHTML = schedules
                    .map(
                        (s) => `
        <div class="list-item" onclick="openModal('${s.date}')">
            <div class="list-date">${s.date}</div>
            <div class="list-info">
                <div class="list-title">${s.exam.note}</div>
                <div class="list-sub">${s.exam.cat} | ${
                            s.general || 'ÏùºÏ†ïÏóÜÏùå'
                        }</div>
            </div>
            <div style="color:#ddd">‚ùØ</div>
        </div>
    `
                    )
                    .join('');
            }

            function openModal(date = '') {
                const target = date
                    ? schedules.find((s) => s.date === date)
                    : null;
                document.getElementById('in-date').value = date || '';
                document.getElementById('in-general').value = target
                    ? target.general
                    : '';
                document.getElementById('in-exam-cat').value = target
                    ? target.exam.cat
                    : '';
                document.getElementById('in-exam-note').value = target
                    ? target.exam.note
                    : '';
                document.getElementById('in-job-note').value = target
                    ? target.job.note
                    : '';
                document.getElementById('in-side').value = target
                    ? target.side
                    : '';
                document.getElementById('modal').style.display = 'flex';
            }

            function closeModal() {
                document.getElementById('modal').style.display = 'none';
            }

            function saveData() {
                const date = document.getElementById('in-date').value;
                if (!date) return alert('ÎÇ†ÏßúÎ•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî!');
                const newData = {
                    date,
                    general: document.getElementById('in-general').value,
                    exam: {
                        cat: document.getElementById('in-exam-cat').value,
                        note: document.getElementById('in-exam-note').value,
                    },
                    job: {
                        cat: '',
                        note: document.getElementById('in-job-note').value,
                    },
                    side: document.getElementById('in-side').value,
                };
                const idx = schedules.findIndex((s) => s.date === date);
                if (idx > -1) schedules[idx] = newData;
                else schedules.push(newData);
                localStorage.setItem('mySchedules', JSON.stringify(schedules));
                closeModal();
                renderToday();
                renderAll();
            }

            renderToday();
        </script>
    </body>
</html>
